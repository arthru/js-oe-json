<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>

    <title>Example of how to communicate with OpenERP using JSON with javascript</title>


    <!-- openerp external libs -->

    <script src="http://openerp.example.comweb/static/lib/jquery/jquery-1.6.4.js" type="text/javascript" > </script>
    <script src="http://openerp.example.comweb/static/lib/qweb/qweb2.js" type="text/javascript" > </script>
    <script src="http://openerp.example.comweb/static/lib/underscore/underscore.js" type="text/javascript" > </script>
    <script src="http://openerp.example.comweb/static/lib/underscore/underscore.string.js" type="text/javascript" > </script>
    <script src="http://openerp.example.comweb/static/lib/jquery.ba-bbq/jquery.ba-bbq.js" type="text/javascript" > </script>
    <script src="http://openerp.example.comweb/static/lib/jquery.ui/js/jquery-ui-1.8.17.custom.min.js" type="text/javascript" > </script>
    <script src="http://openerp.example.comweb/static/lib/py.parse/lib/py.js" type="text/javascript" > </script>


    <!-- openerp internal libs -->

    <script src="http://openerp.example.comweb/static/src/js/boot.js" type="text/javascript" > </script>
    <script src="http://openerp.example.comweb/static/src/js/formats.js" type="text/javascript" > </script>
    <script src="http://openerp.example.comweb/static/src/js/core.js" type="text/javascript" > </script>
    <script src="http://openerp.example.comweb/static/src/js/data.js" type="text/javascript" > </script>
    <script src="http://openerp.example.comweb/static/src/js/chrome.js" type="text/javascript" > </script>
    <script src="http://openerp.example.comweb/static/src/js/views.js" type="text/javascript" > </script>
    <script src="http://openerp.example.comweb/static/src/js/view_form.js" type="text/javascript" > </script>
    <script src="http://openerp.example.comweb/static/src/js/view_list.js" type="text/javascript" > </script>


    <!-- Our method ``do_fetch()`` -->

    <script src="main.js" type="text/javascript" > </script>


    <!-- bootstrap -->

    <script type="text/javascript">
        var oe;
        $(function() {
            oe = openerp.init();
            oe.connection.bind('http://openerp.example.com');
            oe.connection.session_authenticate(
              'mydatabase',
              'admin',
              'secret').then(function() {
                $('#login').html("Logged in");
                do_fetch(oe);
              });

        });
    </script>
  </head>

  <body>
    <div id="login">Logging in ... </div>
    <div id="fetch">Fetching ... </div>
  </body>
</html>
